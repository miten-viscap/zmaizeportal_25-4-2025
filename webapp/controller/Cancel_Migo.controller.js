sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History","sap/ui/core/UIComponent"],function(e,a,t){"use strict";var s;var r="/sap/opu/odata/sap/ZGW_GATEPASS_SRV/";s=new sap.ui.model.odata.ODataModel(r);sap.ui.getCore().setModel(s);s.setDefaultCountMode(sap.ui.model.odata.CountMode.None);return e.extend("MaizeProcurementPortal.MaizeProcurementPortal.controller.Cancel_Migo",{onInit:function(){},onNavBack:function(){var e=t.getRouterFor(this);e.navTo("Cancellation");this.byId("gp_num").setValue("");this.byId("Mat_doc").setValue("");this.byId("Doc_yr").setValue("");this.byId("gp_num").setValueState("None")},NumbValid:function(){var e="^[0-9]{10}$";var a=this.byId("gp_num").getValue();if(!a.match(e)){this.getView().byId("gp_num").setValueState("Error")}else{this.getView().byId("gp_num").setValueState("None")}},fetchdetails:function(){var e=this.byId("gp_num").getValue();var a="^[0-9]{10}$";if(!e.match(a)){this.getView().byId("gp_num").setValueState("Error");sap.m.MessageToast.show("Gate Pass No. must be 10 digit without any Characters")}else{this.getView().byId("gp_num").setValueState("None");var t=this;s.refresh(true);s.read("/CancelfillSet('"+e+"')",{success:function(e,a){s.refresh(true);var r=e.MatDoc;var o=e.DocYear;var i=e.Message;if(r==""&&o=="0000"){sap.m.MessageToast.show(i)}else{t.byId("Mat_doc").setValue(r);t.byId("Doc_yr").setValue(o)}},error:function(e,a){}})}},Cancel_migo:function(){var e=this.byId("gp_num").getValue();var a=this.byId("Mat_doc").getValue();var t=this.byId("Doc_yr").getValue();if(e==""){sap.m.MessageToast.show("Gate Pass Nmber is Mandatory")}else if(a==""){sap.m.MessageToast.show("Fields are Mandatory")}else if(t==""){sap.m.MessageToast.show("Fields are Mandatory")}else{var r={MatDoc:a,DocYear:t};var o=this;s.refresh(true);s.update("/MigoSet('"+a+"')",r,{success:function(e,a){var t=a.headers["sap-message"];var r=new DOMParser;var i=r.parseFromString(t,"text/xml");var u=i.getElementsByTagName("message")[0].innerHTML;sap.m.MessageToast.show(u);s.refresh(true);o.byId("gp_num").setValue("");o.byId("Mat_doc").setValue("");o.byId("Doc_yr").setValue("")}})}}})});
//# sourceMappingURL=Cancel_Migo.controller.js.map